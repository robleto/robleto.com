exports.id=927,exports.ids=[927],exports.modules={8359:()=>{},3739:()=>{},4740:(e,t,r)=>{"use strict";r.d(t,{O:()=>_});class s extends Error{constructor(e,t){super(e),this.field=t,this.name="ValidationError"}}try{(function(e){let t=[];for(let r of e)process.env[r]||t.push(r);if(t.length>0)throw new s(`Missing required environment variables: ${t.join(", ")}`)})(["NOTION_API_KEY","NOTION_ABOUT_DB_ID","NOTION_POSTS_DB_ID","NOTION_PORTFOLIO_DB_ID","NOTION_PROJECTS_DB_ID"]),console.log("✅ All required environment variables are set")}catch(e){throw console.error("❌ Environment validation failed:",e),e}let _={NOTION_API_KEY:process.env.NOTION_API_KEY,NOTION_ABOUT_DB_ID:process.env.NOTION_ABOUT_DB_ID,NOTION_ABOUT_PAGE_ID:process.env.NOTION_ABOUT_PAGE_ID,NOTION_ABOUT_DESCRIPTION_ID:process.env.NOTION_ABOUT_DESCRIPTION_ID,NOTION_ART_DB_ID:process.env.NOTION_ART_DB_ID,NOTION_ART_PAGE_ID:process.env.NOTION_ART_PAGE_ID,NOTION_BOARDGAMES_DB_ID:process.env.NOTION_BOARDGAMES_DB_ID,NOTION_BOARDGAMES_PAGE_ID:process.env.NOTION_BOARDGAMES_PAGE_ID,NOTION_BOOKMARKS_DB_ID:process.env.NOTION_BOOKMARKS_DB_ID,NOTION_BOOKMARKS_PAGE_ID:process.env.NOTION_BOOKMARKS_PAGE_ID,NOTION_CASE_STUDIES_DB:process.env.NOTION_CASE_STUDIES_DB,NOTION_FOLLOWING_DB_ID:process.env.NOTION_FOLLOWING_DB_ID,NOTION_FOLLOWING_PAGE_ID:process.env.NOTION_FOLLOWING_PAGE_ID,NOTION_LIBRARY_DB_ID:process.env.NOTION_LIBRARY_DB_ID,NOTION_LIBRARY_PAGE_ID:process.env.NOTION_LIBRARY_PAGE_ID,NOTION_LISTS_DB_ID:process.env.NOTION_LISTS_DB_ID,NOTION_LISTS_PAGE_ID:process.env.NOTION_LISTS_PAGE_ID,NOTION_MUSICALS_DB_ID:process.env.NOTION_MUSICALS_DB_ID,NOTION_MUSICALS_PAGE_ID:process.env.NOTION_MUSICALS_PAGE_ID,NOTION_PORTFOLIO_DB_ID:process.env.NOTION_PORTFOLIO_DB_ID,NOTION_PORTFOLIO_PAGE_ID:process.env.NOTION_PORTFOLIO_PAGE_ID,NOTION_POSTS_DB_ID:process.env.NOTION_POSTS_DB_ID,NOTION_POSTS_PAGE_ID:process.env.NOTION_POSTS_PAGE_ID,NOTION_PROJECTS_DB_ID:process.env.NOTION_PROJECTS_DB_ID,NOTION_PROJECTS_PAGE_ID:process.env.NOTION_PROJECTS_PAGE_ID,NOTION_READINGLIST_DB_ID:process.env.NOTION_READINGLIST_DB_ID,NOTION_READINGLIST_PAGE_ID:process.env.NOTION_READINGLIST_PAGE_ID,NOTION_RESOURCE_CATEGORIES_DB_ID:process.env.NOTION_RESOURCE_CATEGORIES_DB_ID,NOTION_RESOURCES_DB_ID:process.env.NOTION_RESOURCES_DB_ID,NOTION_RESOURCES_PAGE_ID:process.env.NOTION_RESOURCES_PAGE_ID,NOTION_SHAKESPEARE_DB_ID:process.env.NOTION_SHAKESPEARE_DB_ID,NOTION_SHAKESPEARE_PAGE_ID:process.env.NOTION_SHAKESPEARE_PAGE_ID,NOTION_TRAVEL_DB_ID:process.env.NOTION_TRAVEL_DB_ID,NOTION_TRAVEL_PAGE_ID:process.env.NOTION_TRAVEL_PAGE_ID,TWITTER_API_KEY:process.env.TWITTER_API_KEY,TWITTER_API_SECRET_KEY:process.env.TWITTER_API_SECRET_KEY,TWITTER_BEARER_TOKEN:process.env.TWITTER_BEARER_TOKEN,SUPABASE_URL:process.env.SUPABASE_URL,SUPABASE_ANON_KEY:process.env.SUPABASE_ANON_KEY,NODE_ENV:"production",NEXT_PUBLIC_APP_URL:process.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000"}},3894:(e,t,r)=>{"use strict";r.d(t,{y:()=>N});var s=r(1866),_=r(2438),o=r(4740);let n=o.O.SUPABASE_URL,O=o.O.SUPABASE_ANON_KEY,a=n&&O?(0,_.eI)(n,O):null;class I{static async getAllPosts(){if(!a)return console.log("⚠️  Supabase not configured, skipping cache"),[];try{let{data:e,error:t}=await a.from("cached_content").select("*").eq("table_name","posts").order("last_updated",{ascending:!1});if(t)return console.error("Supabase error fetching posts:",t),[];return e?.map(e=>({...e.content,id:e.notion_id,_cached_at:e.last_updated}))||[]}catch(e){return console.error("Error fetching posts from Supabase:",e),[]}}static async getAllProjects(){if(!a)return console.log("⚠️  Supabase not configured, skipping cache"),[];try{let{data:e,error:t}=await a.from("cached_content").select("*").eq("table_name","projects").order("last_updated",{ascending:!1});if(t)return console.error("Supabase error fetching projects:",t),[];return e?.map(e=>({...e.content,id:e.notion_id,_cached_at:e.last_updated}))||[]}catch(e){return console.error("Error fetching projects from Supabase:",e),[]}}static async getPortfolioItems(){if(!a)return console.log("⚠️  Supabase not configured, skipping cache"),[];try{let{data:e,error:t}=await a.from("cached_content").select("*").eq("table_name","portfolio").order("last_updated",{ascending:!1});if(t)return console.error("Supabase error fetching portfolio:",t),[];return e?.map(e=>({...e.content,id:e.notion_id,_cached_at:e.last_updated}))||[]}catch(e){return console.error("Error fetching portfolio from Supabase:",e),[]}}static async getAllBusinessCards(){if(!a)return console.log("⚠️  Supabase not configured, skipping cache"),[];try{let{data:e,error:t}=await a.from("cached_content").select("*").eq("table_name","business_cards").order("last_updated",{ascending:!1});if(t)return console.error("Supabase error fetching business cards:",t),[];return e?.map(e=>({...e.content,id:e.notion_id,_cached_at:e.last_updated}))||[]}catch(e){return console.error("Error fetching business cards from Supabase:",e),[]}}static async getCachedContentAge(e){if(!a)return null;try{let{data:t,error:r}=await a.from("cached_content").select("last_updated").eq("table_name",e).order("last_updated",{ascending:!1}).limit(1);if(r||!t||0===t.length)return null;return new Date(t[0].last_updated)}catch(e){return console.error("Error getting cached content age:",e),null}}static async getLastSyncStatus(){if(!a)return null;try{let{data:e,error:t}=await a.from("sync_logs").select("*").order("sync_started_at",{ascending:!1}).limit(1);if(t||!e||0===e.length)return null;return e[0]}catch(e){return console.error("Error getting last sync status:",e),null}}}let c={start:e=>{let t=performance.now();return console.time(e),{end:()=>{let r=performance.now();return console.timeEnd(e),r-t}}},measure:async(e,t)=>{let r=c.start(e);try{let e=await t();return r.end(),e}catch(e){throw r.end(),e}}};class N{static{this.CACHE_TIMEOUT_HOURS=1}static isCacheStale(e){return(new Date().getTime()-e.getTime())/36e5>this.CACHE_TIMEOUT_HOURS}static async getAllPosts(){let e=c.start("getAllPosts");try{let t=await I.getCachedContentAge("posts");if(t&&!this.isCacheStale(t)){console.log("\uD83D\uDCCB Using cached posts from Supabase");let t=await I.getAllPosts();if(t.length>0)return e.end(),{listItems:t,pageContent:null}}console.log("\uD83D\uDD04 Fetching fresh posts from Notion");let r=await (0,s.s)({databaseId:o.O.NOTION_POSTS_DB_ID,entryType:"posts"});return e.end(),r}catch(t){return console.error("Error in hybrid posts fetch:",t),e.end(),await (0,s.s)({databaseId:o.O.NOTION_POSTS_DB_ID,entryType:"posts"})}}static async getAllProjects(){let e=c.start("getAllProjects");try{let t=await I.getCachedContentAge("projects");if(t&&!this.isCacheStale(t)){console.log("\uD83D\uDCCB Using cached projects from Supabase");let t=await I.getAllProjects();if(t.length>0)return e.end(),{listItems:t,pageContent:null}}console.log("\uD83D\uDD04 Fetching fresh projects from Notion");let r=await (0,s.s)({databaseId:o.O.NOTION_PROJECTS_DB_ID,entryType:"projects"});return e.end(),r}catch(t){return console.error("Error in hybrid projects fetch:",t),e.end(),await (0,s.s)({databaseId:o.O.NOTION_PROJECTS_DB_ID,entryType:"projects"})}}static async getPortfolioItems(){let e=c.start("getPortfolioItems");try{let t=await I.getCachedContentAge("portfolio");if(t&&!this.isCacheStale(t)){console.log("\uD83D\uDCCB Using cached portfolio from Supabase");let t=await I.getPortfolioItems();if(t.length>0)return e.end(),{listItems:t,pageContent:null}}console.log("\uD83D\uDD04 Fetching fresh portfolio from Notion");let r=await (0,s.s)({databaseId:o.O.NOTION_PORTFOLIO_DB_ID,entryType:"portfolio"});return e.end(),r}catch(t){return console.error("Error in hybrid portfolio fetch:",t),e.end(),await (0,s.s)({databaseId:o.O.NOTION_PORTFOLIO_DB_ID,entryType:"portfolio"})}}static async getAllAbout(){return await (0,s.s)({databaseId:o.O.NOTION_ABOUT_DB_ID,entryType:"about"})}static async getAllReadinglist(){return await (0,s.s)({databaseId:o.O.NOTION_READINGLIST_DB_ID,entryType:"reading-list"})}}}};